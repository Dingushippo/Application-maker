var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,o=!1,a=void 0;try{for(var r,s=e[Symbol.iterator]();!(i=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}$(document).ready(function(){!function(){var o=Jooble.cookie.get("savedv"),a=!!Jooble.cookie.get(".ASPXAUTH_SUBS");function r(e){$.ajax({type:"POST",dataType:"json",url:e.url,data:{uid:e.jobUid,source:e.source},success:e.callback})}function n(e,t){var n,i;n=t,i=e.data("uid"),n?o+="."+i:o=o.replace("."+i,""),setCookieYear("savedv",o),s.init(e)}function i(e,t){n(t,!0),$.ajax({type:"POST",async:!1,url:"/Render/AccountMenu",success:function(e){$(".user_wrapper").replaceWith(e)}})}$(".unsaved").click(function(){var t=$("#jobdesc-body"),e=t.data("uid");a=!!Jooble.cookie.get(".ASPXAUTH_SUBS"),function(e,t){if(a)r({url:"/Account/SaveJob",jobUid:e,source:8,callback:t});else{var n={Source:"BtnSaveJob",IgnoreRedirect:!0,IsRegistration:!Jooble.cookie.get("email_candidate")},i={onClose:function(){(a=!!Jooble.cookie.get(".ASPXAUTH_SUBS"))&&r({url:"/Account/SaveJob",jobUid:e,source:8,callback:t})},initFunction:ignoreSpaces.onEmailValidation};PopupManager.getPopupAjax("AuthorizationPopup",n,i)}ga_SaveVacancyAnywhere()}(e,function(e){i(0,t)});var n=t.data("jdpid");$.post("/Jdp/JdpAction",{jdpId:n,act:Jdp.ActionType.SaveButtonClick,flags:Jdp.ActionFlags.SaveClickSaved,date:(new Date).toUTCString()})}),$("div.like_block").click(function(){var e=$(this).parent(),t=$(this).prevAll(".saveLink-js").eq(0).data("uid");r({url:"/Account/RemoveJob",jobUid:t,callback:function(){n(e)}})}),$("div.unlike_block").click(function(){var e=$(this).parent(),t=$(this).prevAll(".saveLink-js").eq(0).data("uid");r({url:"/Account/SaveJob",jobUid:t,callback:function(){n(e)},source:8})});var s={init:function(e){0<e.find(".like_block").length?this.changeSaveVacancyButtonVisibilityMob(e):(0<e.find(".vacancy-save_button").length||0<e.find(".vacancy-save_StarBtn").length)&&this.changeSaveVacancyButtonVisibilityDesk(e)},changeSaveVacancyButtonVisibilityMob:function(e){e.find(".like_block").toggleClass("none"),e.find(".unlike_block").toggleClass("none")},changeSaveVacancyButtonVisibilityDesk:function(e){e.find(".vacancy-save_button").toggleClass("none"),e.find(".vacancy-save_StarBtn").toggleClass("none"),setTimeout(function(){e.find(".vacancy-save_button.saved").css("max-width","400px"),e.find(".vacancy-save_button.saved").removeClass("transparent-text")},100)}}}()});var Jdp={ActionType:{ResponseClick:1,EasyFormSubmit:2,NextButtonClick:3,SaveButtonClick:4,SuggestedJobClick:5,NextArrowClick:8,PreviousArrowClick:9,SaveMobileButtonClick:10,GoToResults:12,ClickToCall:13,CompanyInfoClick:14,MappedFormSubmit:15,CompanyDescClick:17,ViewEmployerPhone:21,CompanyRatingClick:31,RecommendedJobClick:33,MapLinkClick:35},ResponseClickType:{TopButton:1,BottomButton:2,ContactsLink:3,PdfLink:4,BottomReact:5,ForceOpen:6},ActionFlags:{Default:0,EasyApplySubmitFailed:0,EasyApplySubmitSuccess:1,MappedApplySubmitFailed:0,MappedApplySubmitSuccess:1,SaveClickUnsaved:0,SaveClickSaved:1,ResponseClickAway:0,ResponseClickApplyForm:2,ResponseClickApplyAway:4,ResponseClickMappedApplyForm:16,RatingStarsClick:32,ReviewCountClick:64},ApplyFormType:{NoApply:0,EasyApply:1,MappedApply:2}};function jdpAction(e,t,n,i,o){$.post("/Jdp/JdpAction",{jdpId:e,act:t,flags:n,rstype:i,uid:o,date:(new Date).toUTCString()})}function sendJobSurvey(e){$.ajax({type:"POST",dataType:"json",url:"/Statistics/SaveAwayFeedback",data:e})}$(document).ready(function(){if(void 0!==loggingOnScreenJDP){var e=document.getElementsByClassName("desc_text_paragraph")[0];loggingOnScreenJDP.init(e)}});var PassedJobSurveyManager=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"pass",value:function(e){Jooble.isStorageSupported&&localStorage.setItem(this._createUniqueMarker(e),"t")}},{key:"isPassed",value:function(e){return Jooble.isStorageSupported&&localStorage.getItem(this._createUniqueMarker(e))}},{key:"_createUniqueMarker",value:function(e){return"passedJobSurvey"+e}}]),e}(),JobFeedBackSurvey=function(){function i(e,t){_classCallCheck(this,i),this.feedBackSurvey=e,this.jobUid=t,this.passedJobSurveyManager=new PassedJobSurveyManager,this._isFinished=!1,this.onSurveyPointClick=this.onSurveyPointClick.bind(this),this.initSurvey()}return _createClass(i,[{key:"onSurveyPointClick",value:function(e){e.preventDefault();var t=$(e.target).data("marker");if(t)if(t===i.GO_TO_COMPLAIN_STEP_BUTTON_MARKER)this.goToComplainStep();else if(t===i.GO_TO_COMMENT_STEP_BUTTON_MARKER)this.goToCommentStep();else{var n=this.getSurvey(t);this.passedJobSurveyManager.pass(this.jobUid),this.finishSurvey(),sendJobSurvey(n)}}},{key:"initSurvey",value:function(){this.passedJobSurveyManager.isPassed(this.jobUid)||(this.feedBackSurvey.removeAttr("hidden"),this.feedBackSurvey.click(this.onSurveyPointClick))}},{key:"getSurvey",value:function(e){var t="",n=i.BUTTON_MARKET_FLAG_MAP[e];if(!n)throw new Error("Can not find flag for buttonMarker: "+e);return n===i.BUTTON_MARKET_FLAG_MAP.otherComplaint&&(t=this.feedBackSurvey.find(".feedback-comment__text").val()),{flags:n,message:t,jobUid:this.jobUid}}},{key:"goToComplainStep",value:function(){this.hideAllSteps(),this.feedBackSurvey.find(".away-feedback__complain-step").removeAttr("hidden")}},{key:"goToCommentStep",value:function(){this.hideAllSteps(),this.feedBackSurvey.find(".away-feedback__comment-step").removeAttr("hidden")}},{key:"hideAllSteps",value:function(){this.feedBackSurvey.find(".away-feedback__step").prop("hidden",!0)}},{key:"finishSurvey",value:function(){this.hideAllSteps(),this.feedBackSurvey.find(".away-feedback__thanks").removeAttr("hidden"),this._isFinished=!0}},{key:"isFinished",value:function(){return this._isFinished}},{key:"destroy",value:function(){this.feedBackSurvey.remove()}}],[{key:"GO_TO_COMPLAIN_STEP_BUTTON_MARKER",get:function(){return"goToComplainStep"}},{key:"GO_TO_COMMENT_STEP_BUTTON_MARKER",get:function(){return"goToCommentStep"}},{key:"BUTTON_MARKET_FLAG_MAP",get:function(){return{sendResume:Math.pow(2,0),callPhone:Math.pow(2,1),notRelevantComplaint:Math.pow(2,2),notOpenComplaint:Math.pow(2,3),fraudComplaint:Math.pow(2,4),notUnderstandComplaint:Math.pow(2,5),otherComplaint:Math.pow(2,6)}}}]),i}(),JobFinishedSurveysCleaner=function(){function e(){if(_classCallCheck(this,e),e.instance)return e.instance;(e.instance=this)._surveys=[]}return _createClass(e,[{key:"add",value:function(e){this._surveys.push(e)}},{key:"clean",value:function(){this._surveys=this._surveys.filter(function(e){return e.isFinished()&&e.destroy(),!e.isFinished()})}}]),e}(),JOB_CARD_SELECTOR="div.vacancy_wrapper-js",JOB_LINK_SELECTOR="a.job-marker-js",JOBS_CONTAINER=".serp_table",JOBS_NEW_LABEL=".new";function attachClickAndWheelClickHandlerOnElement(e,t,n){Array.from(document.querySelectorAll(e)).forEach(function(e){n&&e.addEventListener("mousedown",function(e){2===e.which&&e.preventDefault()}),e.addEventListener("mouseup",function(e){1!==e.which&&2!==e.which||t(e)})})}function processJobFeedbackSurvey(e,t){var n=new JobFinishedSurveysCleaner;n.clean();var i=new JobFeedBackSurvey(e,t);n.add(i)}var JobCard=function(){function t(e){_classCallCheck(this,t),this.jobCard=$(e).closest(JOB_CARD_SELECTOR),this.isClickOnLink=!!$(e).closest(JOB_LINK_SELECTOR).length,this.clickTarget=$(e),this.jobCard.length&&(this.jobLinkEl=this.jobCard.find(JOB_LINK_SELECTOR),this.jobNewLabelEl=this.jobCard.find(JOBS_NEW_LABEL))}return _createClass(t,[{key:"_isClickOnDislikeButton",value:function(){return!!this.clickTarget.closest("button.vacancy-dislike-btn-js").length}},{key:"_isClickOnCompanyLink",value:function(){return!!this.clickTarget.closest(".company__link").length}},{key:"_isClickOnFeedbackBlock",value:function(){return!!this.clickTarget.closest(".away-feedback").length}},{key:"shouldOpenJob",value:function(){return!(!this.jobCard.length||this._isClickOnCompanyLink()||this._isClickOnFeedbackBlock()||this._isClickOnDislikeButton())}},{key:"shouldStartFeedbackSurvey",value:function(){return!!this.getFeedbackSurveyBlock().length}},{key:"markAsVisited",value:function(){this.jobLinkEl.addClass("visited"),this.jobNewLabelEl.addClass("no-visible")}},{key:"getJobKey",value:function(){return this.jobLinkEl.data("key")}},{key:"getJobHref",value:function(){return this.jobLinkEl.attr("href")}},{key:"getJobTarget",value:function(){return this.jobLinkEl.attr("target")}},{key:"getFeedbackSurveyBlock",value:function(){return this.jobCard.find(".away-feedback")}},{key:"getJobUid",value:function(){return this.jobCard.attr("id")}},{key:"onClick",value:function(){var e=this.getJobKey();saveToLocalStorage(e),this.markAsVisited(),bl(),globalEventBus&&globalEventBus.emit("clickJobCard")}}]),t}();function handleClickOnJobCard(e){var t=new JobCard(e.target);t.shouldOpenJob()&&(t.shouldStartFeedbackSurvey()&&processJobFeedbackSurvey(t.getFeedbackSurveyBlock(),t.getJobUid()),t.onClick(),t.isClickOnLink||window.open(t.getJobHref(),t.getJobTarget()))}function initJobBlockHandler(){attachClickAndWheelClickHandlerOnElement(JOBS_CONTAINER,handleClickOnJobCard,!0)}var loggingOnScreenJDP={_triggerPoints:[],_documentHeight:0,init:function(e){var t=e;if(!t||this._findPdf(e))return!1;this._documentHeight=document.documentElement.clientHeight;var n=this._getConfig(),i=n.JdpId,o=n.Points,a=1e3*n.Interval,r=n.TextLength;this._setTriggerPoints(t,o);var s=this,c=setInterval(function(){s._protectFromPopUp()&&s._listenPoints(a,i,c,r)},100)},_protectFromPopUp:function(){return"undefined"==typeof PopupManager||!PopupManager.isActive()},_listenPoints:function(e,t,n,i){for(var o=e,a=t,r=this._triggerPoints,s=[],c=0;c<r.length;c++){var l=r[c];this._checkPosition(l.coords)&&(l.time+=100,l.time>o&&(s=s.concat(l.id),r.splice(c,1),c--,r.length||clearInterval(n)))}s.length&&(this._sendAjax(a,s,i),s=[])},_sendAjax:function(e,t,n){var i=this._createXMLHttpRequest(),o={jdpId:e,descParts:t,textLength:n};i.open("POST","/Statistics/SaveOnScreen",!0),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(o))},_createXMLHttpRequest:function(){var t=!1;if(window.XMLHttpRequest)t=new XMLHttpRequest;else if(window.ActiveXObject)try{t=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}}return t},_setTriggerPoints:function(e,t){var n=e.offsetHeight,i=this._getOffset(e),o=n+i,a=t-2;this._triggerPoints=this._triggerPoints.concat(this._triggerPointsCreator(1,i));for(var r=1;r<=a;r++){var s=i+n/(a+1)*r,c=r+1;this._triggerPoints=this._triggerPoints.concat(this._triggerPointsCreator(c,s))}this._triggerPoints=this._triggerPoints.concat(this._triggerPointsCreator(a+2,o))},_getOffset:function(e){for(var t=0,n=e;n;)t+=n.offsetTop,n=n.offsetParent;return t},_getConfig:function(){var e=document.getElementById("onScreenSettings");return JSON.parse(e.getAttribute("value"))},_triggerPointsCreator:function(e,t){return{id:e,coords:t,time:0}},_checkPosition:function(e){var t=window.pageYOffset;return e<t+this._documentHeight&&t<e},_findPdf:function(e){return!!e.getElementsByClassName("pdfContent")[0]}},elementsToUnwrap={"#footerContainer":"serp_cont"};function unwrapElements(e){for(var t in e){var n=$(document).find(t),i=e[t];n.parent().hasClass(i)||$("."+i).append(n)}}function initJdp(){var e,t,n=$("#jobdesc-body"),i=n.data("uid");0<=getCookie("savedv").split(".").indexOf(i)?(n.find(".vacancy-save_button.unsaved").addClass("none"),n.find(".vacancy-save_button.saved").removeClass("none"),n.find(".vacancy-save_button.saved").removeClass("transparent-text"),n.find(".vacancy-save_StarBtn.unsaved").addClass("none"),n.find(".vacancy-save_StarBtn.saved").removeClass("none")):(n.find(".vacancy-save_button.unsaved").removeClass("none"),n.find(".vacancy-save_StarBtn.unsaved").removeClass("none"),t=(e=n).find(".vacancy-save_button.unsaved").outerWidth(),e.find(".vacancy-save_button.saved").css("max-width",t))}globalEventBus&&globalEventBus.subscribe("auth",initJdp);var phoneReplacer=function(){var e=document.querySelectorAll(".call-link");function i(){var n=this,e=n.getAttribute("data-attr-hash"),t=document.getElementById("jobdesc-body").getAttribute("data-jdpid");fetch("/JobDesc/GetPhone?hash="+e+"&jdpId="+t,{method:"POST",credentials:"include"}).then(function(e){return e.json()}).then(function(e){var t=e.phoneNumber;n.innerText=t,n.removeEventListener("click",i),n.classList.add("no-border"),n.href="tel:"+t})}return{init:function(){Array.from(e).forEach(function(e){e.addEventListener("click",i)})}}}();$(document).ready(function(){initJdp(),unwrapElements(elementsToUnwrap),phoneReplacer.init(),new visitedLinksSettings("[data-key]","data-key").init();$(".pdfContent").each(function(){var e=$(this),t=e.data("url");if("application/pdf"in navigator.mimeTypes&&function(e){var t=document.createElement("a");t.href=e;var n=t.protocol;return location.protocol<=n}(t)){var n=$("<object>").attr("data",t).attr("type","application/pdf");$(".vacancy-pdf_text").remove(),e.html(n)}else{var i=document.getElementById("pdfBtn").innerHTML;e.closest("#jobdesc-body").find(".respond-vacancy_button:not(.vacancy-apply-pdf), .respond-vacancy_hint").replaceWith(i),$(".vacancy-desc_info").addClass("no-border"),$(".jdp_footer").remove(),$(".vacancy-desc_text_wrapper").remove(),$(".vacancy-add_date__bottom").remove()}});var n=JSON.parse($("#jdpState").val()),e=document.getElementById("backToSerpLink");$("#companyInfoLink").click(function(){jdpAction(n.jdpId,Jdp.ActionType.CompanyInfoClick,Jdp.ActionFlags.Default,null,n.jobUid)}),$(".star-link").click(function(){jdpAction(n.jdpId,Jdp.ActionType.CompanyRatingClick,Jdp.ActionFlags.RatingStarsClick,null,n.jobUid)}),$(".review-link").click(function(){jdpAction(n.jdpId,Jdp.ActionType.CompanyRatingClick,Jdp.ActionFlags.ReviewCountClick,null,n.jobUid)}),$("#companyDescLink").click(function(){var e=document.querySelector("#companyInfoLink");jdpAction(n.jdpId,Jdp.ActionType.CompanyDescClick,Jdp.ActionFlags.Default,null,n.jobUid),visitedLinksSettings.addOneToStore(e.getAttribute("data-company"))}),attachClickAndWheelClickHandlerOnElement(".job-marker-js",function(e){var t=e.target.closest(".vacancy_wrapper-js").getAttribute("id");jdpAction(n.jdpId,Jdp.ActionType.RecommendedJobClick,Jdp.ActionFlags.Default,null,t)}),e&&e.addEventListener("click",function(){jdpAction(n.jdpId,Jdp.ActionType.GoToResults,Jdp.ActionFlags.Default,null,n.jobUid)}),$(".contact-link-js").each(function(){var e=$(this);n.applyFormType==Jdp.ApplyFormType.NoApply&&e.attr("href",n.contactUrl),e.click(function(e){jdc(),n.applyFormType==Jdp.ApplyFormType.MappedApply?(e.preventDefault(),ga_JdpClickMappedApplyTotal(),MappedApplyFormClick(n.jobUid,n.jdpId,n.projectId,Jdp.ResponseClickType.ContactsLink,n.projectName,n.applyVacancyUrl,n.jobTitle)):n.applyFormType==Jdp.ApplyFormType.EasyApply?(e.preventDefault(),ga_JdpClickApplyTotal(),ApplyFormClick(n.jobUid,n.searchId,n.alertviewId,n.impressionId,n.contactUrl,n.sessionClickId,n.jdpId,Jdp.ResponseClickType.ContactsLink,n.jobTitle,n.jobCity)):(ga_JdpClickAwayTotal(),jdpAction(n.jdpId,Jdp.ActionType.ResponseClick,n.sourceApplyUrlEnable?Jdp.ActionFlags.ResponseClickApplyAway:Jdp.ActionFlags.ResponseClickAway,Jdp.ResponseClickType.ContactsLink))})}),suggestComplaint(),Jooble.showTemplateTooltip({elements:".company-confirm-icon-js",templateId:"#confirmCompanyTitle",insertElement:".company-confirm-block-js",tooltipWrapClass:"company-confirm_tooltip"}),function(e){var t=window.document.querySelector("#companyDescription");if(t)for(var n=t.querySelectorAll("p"),i=0,o=n.length;i<o;i++){var a=n[i];""===a.textContent.trim()&&(a.textContent="")}}(),new visitedLinksSettings("[data-company]","data-company").init(),getJobStatistic(),initForceApplyPopupOpen()});var MappedApplyFormClick=function(e,t,n,i,o,a,r){var s={ResponseType:i,ProjectId:n,JobUid:e,JdpId:t,ProjectName:o,ApplyUrl:a,JobTitle:r};mappedApplyPopUp.show(s)},ApplyFormClick=function(e,t,n,i,o,a,r,s,c,l){var u={JobUid:e,SearchId:t,AlertViewId:n,ImpressionId:i,AwayUrl:o,SessionClickId:a,JdpId:r,ResponseType:s,JobTitle:c,JobCity:l};applyFormPopup.show(u)};function initForceApplyPopupOpen(){if("False"!==window.isOpenApplyPopup){var e=window.applyFormData,t=e.jobUid,n=e.searchId,i=e.alertViewId,o=e.impressionId,a=e.applyVacancyUrl,r=e.sessionClickId,s=e.jdpId,c=e.forceOpen,l=e.title,u=e.region,d=e.projectName,p=e.projectId;switch(window.applyFormType){case"MappedApply":MappedApplyFormClick(t,s,p,c,d,a,l);break;case"EasyApply":ApplyFormClick(t,n,i,o,a,r,s,c,l,u);break;default:return}}}function suggestComplaint(){var e,t,n,i=$("body"),o=$(".complaintBlock_wrapAroundSugest"),a=o.find("#complaintBtn"),r=o.find(".complainSuggestsBlock"),s=o.find(".complainSuggestsList_btn"),c=(o.find(".complainSuggestsBlock"),i.find(".thnkpopupdark")),l=JSON.parse($("#jdpState").val()).jdpId,u=(e=a,t="active",n=1,function(){++n%2==0?e.addClass(t):e.removeClass(t)});a.on("click",function(){r.toggleClass("active"),u()}),s.on("click",function(){var e=$(this).data().feedback_type,t={jdpId:l,feedbackType:e};i.addClass("no_scroll"),c.fadeIn(250),setTimeout(function(){$(".thnkpopupdark_body").addClass("active")},250),$.post("/jdp/SaveFeedback",t).done(function(){setTimeout(function(){$(".thnkpopupdark_title").addClass("active")},800)}),r.removeClass("active"),u()}),c.on("click",function(){$(this).find(".thnkpopupdark_body").removeClass("active"),$(this).fadeOut(250),setTimeout(function(){$(".thnkpopupdark_title").removeClass("active")},250),i.removeClass("no_scroll"),a.attr("disabled","true")}),r.css("min-width",a.width()+25),$(document).on("click",function(e){a.is(e.target)||a.find("span").is(e.target)||r.hasClass("active")&&!(r.is(e.target)||r.find("ul").is(e.target)||r.find("li").is(e.target))&&(r.removeClass("active"),u())})}function getJobStatistic(){if(Jooble.isStorageSupported){var e=localStorage.getItem("access_token"),n=document.querySelector("#jobStatContainer");if(e&&n){var t=document.querySelector("#jobStatTempl"),i=t?t.innerHTML:"",o=n.dataset.url,a=new Headers;a.append("Authorization","Bearer "+e),fetch(o,{method:"GET",credentials:"include",mode:"cors",headers:a}).then(function(e){var t=e.headers.get("content-type");if(t&&0<=t.indexOf("application/json"))return e.json();if(200===e.status)return!0;throw Error(""+e.status)}).then(function(e){var t=Handlebars.compile(i);n.innerHTML=t(e),n.style.display="block"}).catch(function(e){throw Error(e)})}}}var applyAbandonReasonPopup=function(){var e=JSON.parse($("#abandonFormSettings").val()),n=e.timePeriod,t=parseInt(e.countShowing),u=e.jdpId,i=e.isActive,o="dayFromAbandon";var a={_time:null,_count:null,init:function(){localStorage.getItem(o)&&!this._needResetTimeAndCount()||this._resetTimeAndCount(),this._setManagerFields()},checkForShowing:function(){return this._timeIsExpired(this._time)||this._count<t},showPopup:function(){var e=this;PopupManager.getPopupAjax("ApplyAbandonReasonPopup",null,{initFunction:function(){e._popupInit()}}),this._incrementCount()},_needResetTimeAndCount:function(){return this._setManagerFields(),this._timeIsExpired(this._time)},_setManagerFields:function(){var e=JSON.parse(localStorage.getItem(o));this._time=parseInt(e.date),this._count=parseInt(e.count)},_resetTimeAndCount:function(){this._saveTimeAndCount(0,(new Date).getTime())},_incrementCount:function(){this._count+=1,this._saveTimeAndCount(this._count,this._time)},_timeIsExpired:function(e){var t=(new Date).getTime();return n<(t-e)/864e5},_saveTimeAndCount:function(e,t){var n={count:e,date:t};localStorage.setItem(o,JSON.stringify(n))},_popupInit:function(){var e=$("#abandonPopup"),t=e.find(".abandonSuggest-js"),n=e.find(".applyAbandon"),i=e.find("#abandonContent"),o=e.find("#abandonLoader"),a=e.find("#abandonThank"),r=e.find(".sameheight-js");setTimeout(function(){l()},300);var s={_minHeight:null,_maxHeight:null,_elements:null,isNeedChageheight:function(e){var t=[];return(this._elements=e).each(function(){t.push(this.clientHeight)}),this._findMinAndMaxHeight(t),this._minHeight!==this._maxHeight},setSameHeight:function(){var e=this;this._elements.each(function(){this.style.height=e._maxHeight+"px"})},_findMinAndMaxHeight:function(e){var t=e.sort(function(e,t){return e-t});this._minHeight=t[0],this._maxHeight=t[t.length-1]}},c=setTimeout(function(){s.isNeedChageheight(r)&&s.setSameHeight(),e.addClass("active"),clearTimeout(c)},150),l=function(){t.on("click",function(){var e={reason:this.getAttribute("data-abandontype"),jdpId:u,flags:Jdp.ActionFlags.Default};n.addClass("applyAbandonSamePad"),i.addClass("none"),o.removeClass("none"),$.post("/jdp/SaveApplyAbandonReason",e).done(function(){setTimeout(function(){o.addClass("none"),a.removeClass("none")},200)})})}}};return{checkedFeedback:function(){(i||Jooble.isStorageSupported)&&(a.init(),a.checkForShowing()&&a.showPopup())}}}();document.addEventListener("DOMContentLoaded",function(){var e=$("#searchForm input[type=text]");makeAwesomeShadow(e),toogleFixedHeader.init()});var makeAwesomeShadow=function(e){var t=e;t.hover(function(){$(this).addClass("ssti")},function(){$(this).removeClass("ssti")}),t.focusin(function(){$(this).addClass("ssti"),$(this).unbind("mouseleave")}),t.focusout(function(){$(this).removeClass("ssti"),$(this).bind("mouseleave",function(){$(this).removeClass("ssti")})})},toogleFixedHeader=function(){var i=document.getElementById("jdpHeader"),o=document.querySelector(".jdp-container");return{init:function(){if(i){var t=i.getBoundingClientRect().top+pageYOffset,n=i.offsetHeight;window.addEventListener("scroll",function(){return e=n,void(t<=window.scrollY?(i.classList.add("fixed-header"),o.style.paddingTop=e+"px",HistorySuggestManager&&HistorySuggestManager().hide(),$(".autocomplete-suggestions").hide()):(i.classList.remove("fixed-header"),o.style.paddingTop=0));var e},!1)}}}}(),subscribeUserOnJdpTitle=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n={email:e,uid:JSON.parse(document.getElementById("jdpState").value).jobUid,isMobile:!1,isSubscribeAfterApply:t};fetch("/JDPEmailRequest/Subscribe",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(n)})};function writeJobRevenueStat(){var e=document.querySelector("#revenueData");if(e){var t=e.value,n="function"==typeof fbq,i="function"==typeof gtag;if(n&&fbq("track","View_Job",{revenue:t}),i){var o=e.getAttribute("data-currency"),a=e.getAttribute("data-send-to"),r=e.getAttribute("data-conversion-label");gtag("event","conversion",{send_to:a+"/"+r,value:t,currency:o})}window.removeEventListener("load",writeJobRevenueStat)}}function getPhoneDataForRequestFromDom(e){return{hash:e.getAttribute("data-phone-hash").split(";"),jdpId:e.getAttribute("data-jdpId"),actionType:window.Jdp.ActionType.ViewEmployerPhone}}function phoneRequest(e){var t={method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/JobDesc/GetPhones",t).then(function(e){return e.json()}).then(function(e){return e.phoneNumbers})}function addMaskToPhone(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.prettyPhoneMask;return t?e.split("").reduce(function(e,t){return e.replace("X",t)},t):e}function isValidMaskForPhone(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.prettyPhoneMask;if(!t)return!1;return e.length===t.replace(/[^X]/g,"").length}!function(){var e=document.querySelectorAll(".jdp-respond-btn_away.subscribe-button"),t=function(e){var t=this.dataset.email,n=this.href;t?subscribeUserOnJdpTitle(t):(e.preventDefault(),i(t,n))},i=function(e,t){PopupManager.getPopupAjax("JdpSubscribePopup",null,{initFunction:n,onClose:function(){window.scrollTo(0,0),window.open(t)}})},n=function(){var e=document.getElementById("applyEmailForm"),t=document.getElementById("popup").offsetTop;e.addEventListener("submit",o),window.scrollTo(0,t)},o=function(e){var t=e.target,n=$(t).find(".email-popup__input");e.preventDefault(),n.validate()&&(subscribeUserOnJdpTitle(n.val()),PopupManager.close())};Array.from(e).forEach(function(e){return e.addEventListener("click",t)});var a=Array.from(document.querySelectorAll(".adsbygoogle"));setTimeout(function(){a.forEach(function(e){e&&0===e.innerHTML.trim().length&&(window.adsbygoogle=window.adsbygoogle||[]).push({})})},500)}(),function(){var e=document.getElementById("complaint__btn"),t=document.getElementById("jdpState"),s=JSON.parse(t.value).jobUid,n=function(){var n=document.getElementById("complaintModal__form");if(n){var i=document.getElementById("complaintModal__header"),o=document.getElementById("complaintModal__footer"),a=document.getElementById("complaintPlaceholder"),r=document.getElementById("complaintModal__container");n.onsubmit=function(e){if(n.checkValidity()){e.preventDefault();var t=new FormData(n);t.append("jobUid",s),fetch("/FeedbackHandler/Complaint",{credentials:"same-origin",method:"POST",body:t}).then(function(e){return e.ok,e}).then(function(){i.classList.add("complaintModal__header_hidden"),o.classList.add("complaintModal__footer_hidden"),r.classList.add("complaintModal__container_hidden"),a.classList.add("complaintPlaceholder_visible")})}}}};n();e&&(e.onclick=function(){PopupManager.getPopupAjax("EmployerComplaintPopup",{jobUid:s,isCalledFromButton:!0},{initFunction:n})})}(),window.addEventListener("load",writeJobRevenueStat,!1);var RespondePhonesWorkWithDom=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"updatePhoneUI",value:function(e,t){var n=this,i=document.createDocumentFragment();e.forEach(function(e){i.appendChild(n._makePhoneLinkItem(e))}),t.replaceChild(i,t.firstElementChild)}},{key:"_makePhoneLinkItem",value:function(e){var t=document.createElement("li"),n=document.createElement("a"),i=document.createElement("span");return n.setAttribute("href","tel:"+e),n.setAttribute("class","jdp-respond-btn respond-vacancy_button"),i.setAttribute("class","jdp-respond-btn__phone-text"),i.textContent=e,n.appendChild(i),t.appendChild(n),t}}]),e}(),RespondePhones=function(){function n(e,t){_classCallCheck(this,n),this._phoneWrapAndBtnMap=this._initWrapperAndButtonMap(e),this._onMultiplyPhoneExpanded=t,this._initListeners()}return _createClass(n,[{key:"_initWrapperAndButtonMap",value:function(e){var n=new Map;return e.forEach(function(e){var t=e.querySelector(".responde-phone-button-js");n.set(t,e)}),n}},{key:"_initListeners",value:function(){var t=this;[].concat(_toConsumableArray(this._phoneWrapAndBtnMap.keys())).forEach(function(e){e.addEventListener("click",function(){return t._onPhoneBtnClick(e)},!1)})}},{key:"_onPhoneBtnClick",value:function(i){var t=this;i.setAttribute("disabled",!0);var n=this._phoneWrapAndBtnMap.get(i),e=getPhoneDataForRequestFromDom(n),o=new RespondePhonesWorkWithDom;phoneRequest(e).then(function(e){return e.map(function(e){return isValidMaskForPhone(e)?addMaskToPhone(e):e})}).then(function(e){o.updatePhoneUI(e,n),"function"==typeof t._onMultiplyPhoneExpanded&&1<e.length&&t._onMultiplyPhoneExpanded(n)}).catch(function(e){i.setAttribute("disabled",!1);var t=e.message,n=e.stack;log.error({message:t,stack:n})})}}]),n}();document.addEventListener("DOMContentLoaded",function(){var e=Array.from(document.querySelectorAll(".responde-phone-wrap-js"));if(0!==e.length){new RespondePhones(e,function(e){var t=$(e).closest(".jdp-action-btns-wrap-js");0!==t.length&&t.addClass("jdp-phone-btn--expanded")})}},!1);var JobDislike=function(){function e(){_classCallCheck(this,e),this.DISLIKE_ATTR="data-dislike",this.searchId=this.getSearchId(),this.alertViewId=this.getAlertViewId()}return _createClass(e,[{key:"getSearchId",value:function(){var e=document.querySelector("#search_id");if(e)return e.getAttribute("value")}},{key:"getAlertViewId",value:function(){var e=window.Server;if(e&&e.query&&e.query.isAlert)return e.query.alertViewId}},{key:"getVacanciesWithoutDislikeHandler",value:function(){var t=this;return Array.from(document.querySelectorAll(".vacancy-js")).filter(function(e){return!e.getAttribute(t.DISLIKE_ATTR)})}},{key:"addListeners",value:function(){var t=this;this.jobs.forEach(function(e){return t.addJobListener(e)})}},{key:"sendJobDislikeRequest",value:function(e,t){var n=this.createJobDislike(e,t);this.dislikeJobRequest(n)}},{key:"_parseRecommendationIdAndImpressionRecommendationId",value:function(e){var t=e.indexOf("?"),n=e.substr(t).split("&").reduce(function(e,t){if(t){var n=t.split("="),i=_slicedToArray(n,2),o=i[0],a=i[1];e[o]=a}return e},{});return{recommendId:n.recId||"",impressionRecommendId:n.iRecId||""}}},{key:"createJobDislike",value:function(e,t){var n={jobUid:e.getAttribute("id"),similarGroupId:e.getAttribute("data-sgroup")};if(this.isRecommendedJob(e)){var i=t&&t.href,o=this._parseRecommendationIdAndImpressionRecommendationId(i),a=o.recommendId,r=o.impressionRecommendId;n.recommendId=a,n.impressionRecommendId=r}else{var s=e.querySelector(".impression_id").getAttribute("value"),c=this.searchId,l=this.alertViewId;n.impressionId=s,c&&(n.searchId=c),l&&(n.alertViewId=l)}return n}},{key:"dislikeJobRequest",value:function(e){var t={headers:{"Content-Type":"application/json"},method:"POST",credentials:"same-origin",body:JSON.stringify(e)};return fetch("/Statistics/SaveJobDislike",t)}},{key:"dislikeJob",value:function(e,t){e.setAttribute("disabled",!0);var n=e.parentElement.querySelector(".job-marker-js"),i=this.getElementForRemoving(t);this.sendJobDislikeRequest(t,n),this.animateRemoveElement(i)}},{key:"animateRemoveElement",value:function(e){e.classList.add("job--animate-leave"),setTimeout(function(){e.parentNode.removeChild(e)},500)}},{key:"isRecommendedJob",value:function(e){return e.closest(".recommended-jobs-js")}},{key:"getElementForRemoving",value:function(e){return this.isRecommendedJob(e)&&this.isLastRecommendedJobBlock()?this.getRecommendedVacancyBlockElement():e}},{key:"isLastRecommendedJobBlock",value:function(){return 1===document.querySelectorAll(".recommended-jobs-js .vacancy-js").length}},{key:"getRecommendedVacancyBlockElement",value:function(){return document.querySelector(".recommended-jobs-js")}}]),e}(),JobDislikePagination=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.jobs=e.getVacanciesWithoutDislikeHandler(),e.lastJobBlock=e.getLastJobBlock(),e.jobsList=[],e.page=e.getNextPageNumber(),e.dislikeClickCount=0,e.isRequestStarted=!1,e.addJobListener=e.addJobListener.bind(e),e.addListeners(),e}return _inherits(t,JobDislike),_createClass(t,[{key:"getLastJobBlock",value:function(){var e=document.querySelector("#jobs_list__page");return Array.from(e.querySelectorAll(".vacancy-js")).pop()}},{key:"getNextPageNumber",value:function(){var e=window.location.search;if(!e)return 2;var t=e.slice(1).split("&").reduce(function(e,t){var n=t.split("="),i=_slicedToArray(n,2),o=i[0],a=i[1];return e[o]=a,e},{}).p;return t?parseInt(t,10)+1:2}},{key:"nextVacanciesRequest",value:function(){var t=this,e=window.location.href.split("?"),n=_slicedToArray(e,1)[0];return this.isRequestStarted=!0,fetch(n+"?api=1&p="+this.page,{credentials:"include"}).then(function(e){if(t.isRequestStarted=!1,e.ok)return e.json();throw new Error("error")},function(){t.isRequestStarted=!1})}},{key:"parseVacancies",value:function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.querySelectorAll(".vacancy-js");return Array.from(n).reverse()}},{key:"fillOutSearchResult",value:function(){var t=this,e=this.jobsList.slice(0,this.dislikeClickCount);this.jobsList=this.jobsList.slice(this.dislikeClickCount),(this.dislikeClickCount=0)!==e.length&&e.forEach(function(e){t.lastJobBlock=t.getLastJobBlock(),t.lastJobBlock.parentNode.insertBefore(e,t.lastJobBlock.nextSibling),t.lastJobBlock=t.getLastJobBlock(),t.addJobListener(t.lastJobBlock)})}},{key:"addJobListener",value:function(e){var t=this,n=e.querySelector(".vacancy-dislike-btn-js");n.addEventListener("click",function(){t.dislikeClickCount+=1,t.dislikeJob(n,e),t.isRecommendedJob(e)||t.isRequestStarted||(0===t.jobsList.length?t.nextVacanciesRequest().then(function(e){t.page+=1,t.jobsList=t.parseVacancies(e),t.fillOutSearchResult()}):t.fillOutSearchResult())},!1)}}]),t}();function isDislikeSnippetEnabled(){return!!document.querySelector("[data-dislike-snippet]")}!function(s){var a=[],r=!1,c=!1,l={interval:250,force_process:!1},u=s(window),d=[];function p(){c=!1;for(var e=0,t=a.length;e<t;e++){var n=(o=a[e],s(o).filter(function(){return s(this).is(":appeared")}));if(n.trigger("appear",[n]),d[e]){var i=d[e].not(n);i.trigger("disappear",[i])}d[e]=n}var o}s.expr[":"].appeared=function(e){var t=s(e);if(!t.is(":visible"))return!1;var n=u.scrollLeft(),i=u.scrollTop(),o=t.offset(),a=o.left,r=o.top;return r+t.height()>=i&&r-(t.data("appear-top-offset")||0)<=i+u.height()&&a+t.width()>=n&&a-(t.data("appear-left-offset")||0)<=n+u.width()},s.fn.extend({appear:function(e){var t,n=s.extend({},l,e||{}),i=this.selector||this;if(!r){var o=function(){c||(c=!0,setTimeout(p,n.interval))};s(window).scroll(o).resize(o),r=!0}return n.force_process&&setTimeout(p,n.interval),t=i,a.push(t),d.push(),s(i)}}),s.extend({force_appear:function(){return!!r&&(p(),!0)}})}("undefined"!=typeof module?require("jquery"):jQuery);var RecommendedJobDislike=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.jobs=e.getVacanciesWithoutDislikeHandler(),e.addJobListener=e.addJobListener.bind(e),e.addListeners(),e}return _inherits(t,JobDislike),_createClass(t,[{key:"addJobListener",value:function(e){var t=this,n=e.querySelector(".vacancy-dislike-btn-js");n.addEventListener("click",function(){return t.dislikeJob(n,e)},!1)}}]),t}(),OneTapAuth=function(){function m(e){var t=e.btn,n=e.btnLoadClass,i=void 0===n?"on-load":n,o=e.smartCall,a=e.oneTapSignIn,r=e.oneTapSignUp,s=e.isSubscribe,c=void 0!==s&&s,l=e.authSource,u=e.isMobile,d=void 0===u||u,p=e.withSmartLock,h=void 0===p||p;if(_classCallCheck(this,m),!o)throw Error("Missed required smartCall field");var f=["https://accounts.google.com"];h&&f.push("googleyolo://id-and-password"),this.retrievePromise=function(){return googleyolo.retrieve({supportedAuthMethods:f,supportedIdTokenProviders:[{uri:"https://accounts.google.com",clientId:window.googleClientId}]})},this.hintPromise=function(){return googleyolo.hint({supportedAuthMethods:["https://accounts.google.com"],supportedIdTokenProviders:[{uri:"https://accounts.google.com",clientId:window.googleClientId}]})},this.googleAuth=this.googleAuth.bind(this),this._retryRegisterByGoogleOneTap=this._retryRegisterByGoogleOneTap.bind(this),this._tryRegisterOrLoginByGoogleOneTap=this._tryRegisterOrLoginByGoogleOneTap.bind(this),this._addBtnActiveClass=this._addBtnActiveClass.bind(this),this._removeBtnActiveClass=this._removeBtnActiveClass.bind(this),this._loginBySmartLockCredential=this._loginBySmartLockCredential.bind(this),this._showOneTapModal=this._showOneTapModal.bind(this),this._initOneTapModal=this._initOneTapModal.bind(this),this._closeOneTapModal=this._closeOneTapModal.bind(this),this.smartCall=o,this.oneTapSignIn=a||o,this.oneTapSignUp=r||o;var v=document.querySelector("[name=UrlReferrer]");this.urlReferrer=v?v.value:null,this.btn=document.querySelector(t),this.btnLoadClass=i,this.modalWrap=document.querySelector("#oneTapModal"),this.actionModalBtn=null,this.isSubscribe=c,this.authSource=l,this.isMobile=d}return _createClass(m,[{key:"googleAuth",value:function(){var t=this;return this._addBtnActiveClass(),this.retrievePromise().then(function(e){return!!e.password?t._loginBySmartLockCredential(e):e.idToken?t._tryRegisterByGoogleOneTap(e):void 0}).catch(function(e){if("noCredentialsAvailable"===e.type)return t._retryRegisterByGoogleOneTap();throw e}).then(function(){return t._removeBtnActiveClass()}).catch(function(e){throw t._removeBtnActiveClass(),e})}},{key:"_loginBySmartLockCredential",value:function(e){var n=this,t=new FormData,i=e.id;return t.append("Email",i),t.append("Password",e.password),t.append("UrlReferrer",this.urlReferrer),this.authSource&&t.append("AuthSource",this.authSource),fetch("/m/Account/Authorization",{method:"post",credentials:"same-origin",body:t}).then(function(e){return e.json()}).then(function(e){var t={data:e,email:i};n.smartCall(t)})}},{key:"_tryRegisterByGoogleOneTap",value:function(t){var n=this,e=t.id;return fetch("/m/account/IsUserRegistered?email="+e,{method:"POST",credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return e.isRegistered?n._tryRegisterOrLoginByGoogleOneTap(t).then(function(e){e&&n.oneTapSignIn(e)}):n._showOneTapModal().then(function(){return n._initOneTapModal(t)})})}},{key:"_addBtnActiveClass",value:function(){this.btn&&this.btn.classList.add(this.btnLoadClass)}},{key:"_removeBtnActiveClass",value:function(){this.btn&&this.btn.classList.remove(this.btnLoadClass)}},{key:"_tryRegisterOrLoginByGoogleOneTap",value:function(e){var t=this,n=e.idToken,i=e.id;return fetch((this.isMobile?"/m":"")+"/Account/OneTapCallback?code="+n+"&isSubscribe="+this.isSubscribe+"&authorizationSource="+this.authSource,{method:"GET",credentials:"same-origin"}).then(function(e){var t=e.headers.get("content-type");if(t&&t.includes("application/json"))return e.json()}).then(function(e){if(!e||!e.serverError)return{urlReferrer:t.urlReferrer,email:i};window.showTopErrorMessage()})}},{key:"_retryRegisterByGoogleOneTap",value:function(){var t=this;return this.hintPromise().then(function(e){if(e.idToken)return t._tryRegisterByGoogleOneTap(e)})}},{key:"_showOneTapModal",value:function(){var t=this;return fetch("/m/account/OneTapModal",{method:"POST",credentials:"same-origin"}).then(function(e){if(e.ok)return e.text();throw Error("request error")}).then(function(e){t.modalWrap.innerHTML=e})}},{key:"_initOneTapModal",value:function(i){var o=this;return new Promise(function(t,n){var e=o.modalWrap.querySelector(".close-js");o.actionModalBtn=o.modalWrap.querySelector(".action-btn-js"),o.actionModalBtn.addEventListener("click",function(){o.actionModalBtn.classList.add("on-load"),o._tryRegisterOrLoginByGoogleOneTap(i).then(function(e){e&&o.oneTapSignUp(e),t(),o._closeOneTapModal()}).catch(function(e){log.error(e),n(),o._closeOneTapModal()})}),e.addEventListener("click",function(){n({type:"userCanceled"}),o._closeOneTapModal()},!1)})}},{key:"_closeOneTapModal",value:function(){this.modalWrap&&(this.modalWrap.innerHTML="")}}]),m}(),OneTapAuthMock=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"googleAuth",value:function(){return Promise.reject()}}]),e}();function initOneTapAuth(e){return document.querySelector("#disabled-one-tap")?(console.warn("One tap Disabled from admin console"),new OneTapAuthMock):new OneTapAuth(e)}function isNeedConfirmAccount(){return fetch("/account/get?fields=isVerified",{credentials:"same-origin"}).then(function(e){return 200===e.status&&e.json().then(function(e){return!e.isverified})}).catch(function(){return!1})}var YoloCancelation=function(){function e(){_classCallCheck(this,e),this._cookieSessionKeyPrefix="SessionCookie.",this._localStorageLastYoloCancleationKeyPrefix="LastYoloCancelationSessionId."}return _createClass(e,[{key:"cancel",value:function(){var e=this._getCurrentSessionId(),t=this._getLastYoloCancelationLocalStorageSessionKey();Jooble.isStorageSupported&&localStorage.setItem(t,e)}},{key:"isCanceledInCurrentSession",value:function(){return this._getCurrentSessionId()===this._getLastYoloCancelationLocalStorageSessionId()}},{key:"_getCurrentCountryId",value:function(){return location.hostname.split(".")[0]}},{key:"_getLastYoloCancelationLocalStorageSessionId",value:function(){var e=this._getLastYoloCancelationLocalStorageSessionKey();return Jooble.isStorageSupported&&localStorage.getItem(e)}},{key:"_getLastYoloCancelationLocalStorageSessionKey",value:function(){return""+this._localStorageLastYoloCancleationKeyPrefix+this._getCurrentCountryId()}},{key:"_getCurrentSessionId",value:function(){var e=this._getCookieSessionKey();return getCookie(e).split("*")[1]}},{key:"_getCookieSessionKey",value:function(){return""+this._cookieSessionKeyPrefix+this._getCurrentCountryId()}}]),e}(),OneTapIframeToggle=function(){function e(){_classCallCheck(this,e),this._prevScrollY=0,this._minScrollDelta=10,this._scrollWayEmitter=new Jooble.EventEmitter,this._iframe=null,this._onScroll=this._onScroll.bind(this),this._onScrollWithThrottle=Jooble.throttle(this._onScroll,100)}return _createClass(e,[{key:"init",value:function(){var t=this;this._isHide=!1,"ontouchstart"in window?window.addEventListener("touchmove",this._onScroll,!1):window.addEventListener("scroll",this._onScrollWithThrottle,!1);var e=function(e){return function(){t._tryUpdateIframe(),e()&&t._tryToggleIframeVisibility()}};this._stopListenScrollDown=this._scrollWayEmitter.subscribe("scrollDown",e(function(){return!t._isHide})),this._stopListenScrollUp=this._scrollWayEmitter.subscribe("scrollUp",e(function(){return t._isHide}))}},{key:"_onScroll",value:function(){var e=window.scrollY||window.pageYOffset,t=Math.abs(e-this._prevScrollY);if(e>this._prevScrollY)this._scrollWayEmitter.emit("scrollDown",e);else{if(t<this._minScrollDelta)return;this._scrollWayEmitter.emit("scrollUp",e)}this._prevScrollY=e}},{key:"_tryUpdateIframe",value:function(){this._iframe||(this._iframe=getYoloIframe())}},{key:"_tryToggleIframeVisibility",value:function(){this._iframe&&(this._iframe.style.opacity="0"===this._iframe.style.opacity?"1":"0",this._isHide=!this._isHide)}},{key:"destroy",value:function(){this._stopListenScrollDown&&this._stopListenScrollDown(),this._stopListenScrollUp&&this._stopListenScrollUp()}}]),e}();function getYoloIframe(){var e=document.querySelectorAll("iframe");return Array.from(e).find(function(e){return"string"==typeof e.src&&e.src.includes("smartlock.google.com")})}var OneTapWithoutSmartLock=function(){function a(e){var t=e.onAfterLogin,n=e.onAfterRegistration,i=e.isSerp,o=e.isMobile;_classCallCheck(this,a),this._yoloSource=8,this._yoloCancelation=new YoloCancelation,this._isSerp=i,this._isMobile=o,this._isTestEnabled=!!document.querySelector(".one-tap-sign-in"),this._oneTapIframeToggle=new OneTapIframeToggle,this._oneTapAuth=initOneTapAuth({isMobile:o,withSmartLock:!1,smartCall:t,oneTapSignIn:t,oneTapSignUp:n||t,authSource:this._yoloSource})}return _createClass(a,[{key:"tryInit",value:function(){if(this._shouldInit())return this._init()}},{key:"_shouldInit",value:function(){return!!OneTapAuth&&this._isTestEnabled&&!this._isAuthorized()&&!this._yoloCancelation.isCanceledInCurrentSession()}},{key:"_isAuthorized",value:function(){return!!getCookie(".ASPXAUTH_SUBS")}},{key:"_init",value:function(){var t=this;this._tryInitOneTapIframeToggle();var n=setInterval(function(){return t._tryAddClassForIframe(function(){return clearInterval(n)})},100);this._oneTapAuth.googleAuth().catch(function(e){clearInterval(n),t._tryDestroyOneTapIframeToggle(),e&&"userCanceled"===e.type&&t._yoloCancelation.cancel()})}},{key:"_tryInitOneTapIframeToggle",value:function(){this._isSerp&&this._isMobile&&this._oneTapIframeToggle.init()}},{key:"_tryDestroyOneTapIframeToggle",value:function(){this._isSerp&&this._isMobile&&this._oneTapIframeToggle.destroy()}},{key:"_tryAddClassForIframe",value:function(e){var t=getYoloIframe();t&&(t.classList.add("z-index-first-level"),e())}}]),a}();function initOneTapWithoutSmartLock(e){new OneTapWithoutSmartLock(e).tryInit()}function getImpressionSettings(){var e=document.querySelector(".impression-settings-js");if(e)return{impressionTime:parseInt(e.getAttribute("data-time"),10),impressionInterval:parseInt(e.getAttribute("data-interval"),10),impressionDateDiff:parseInt(e.getAttribute("data-date-diff"),10)}}function initImpressionSaving(){var e={impressionSettings:getImpressionSettings(),jobSelector:".vacancy_wrapper h2",jobParentSelector:".vacancy_wrapper",appear:"appear.saveSios",disappear:"disappear.saveSios",pageType:ImpressionOnScreen.IMPRESSION_PAGE_TYPE.JDP};ImpressionOnScreen.init(e)}function isRecommendedJobsEnabled(){return!!document.querySelector(".recommended-jobs-js")}function initJdpServices(){isDislikeSnippetEnabled()&&isRecommendedJobsEnabled()&&(new RecommendedJobDislike,initImpressionSaving()),initJobBlockHandler(),window.initOneTapWithoutSmartLock&&window.initOneTapWithoutSmartLock({onAfterLogin:function(){emitAuthEventIfUserIsAuthorized(),window.isNeedConfirmAccount().then(function(e){e&&trySendConfirmation()})},onAfterRegistration:function(){emitAuthEventIfUserIsAuthorized(),PopupManager&&PopupManager.getPopupAjax("ConfirmationSubscribePopup",{ShowAccountTitle:!0})},isSerp:!1,isMobile:!1})}function initMapLinkHandler(e){var t=e.dataset.jdpId,n=e.dataset.jobUid;e.addEventListener("click",function(){window.jdpAction(t,window.Jdp.ActionType.MapLinkClick,window.Jdp.ActionFlags.Default,null,n)})}document.addEventListener("DOMContentLoaded",initJdpServices,!1),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".st337-jdp_map-link-js");e&&initMapLinkHandler(e)});